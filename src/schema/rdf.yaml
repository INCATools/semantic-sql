id: https://w3id.org/semsql/rdf
name: semsql_rdf
title: Semantic SQL RDF module
description: >-
  RDF Module
license: https://creativecommons.org/publicdomain/zero/1.0/

prefixes:
  semsql_rdf: https://w3id.org/semsql/rdf
  linkml: https://w3id.org/linkml/
  
default_prefix: semsql_rdf
default_range: string

default_curi_maps:
  - semweb_context

imports:
  - linkml:types
  - rdf

classes:
  prefix:
    description: >-
      Maps CURIEs to URIs
    slots:
      - prefix
      - base

  # -- triples --
  statements:
    aliases:
      - triple
    description: >-
      Represents an RDF triple
    slots:
      - stanza
      - subject
      - predicate
      - object
      - value
      - datatype
      - language
    class_uri: owl:Restriction

  edge:
    description: >-
      A relation graph edge that connects two entities by a predicate.
      Note an edge is distinct from a statement, in that an axiom such as
      A SubClassOf R some B is represented as multiple statements, but is
      a single relation graph edge
    slots:
      - subject
      - predicate
      - object

  entailed_edge:
    description: >-
      A relation graph edge that is inferred
    slots:
      - subject
      - predicate
      - object

  node to node statement:
    abstract: true
    is_a: statements
    description: >-
      A statement where object is non-null and value is not populated
    slot_usage:
      object:
        required: true
    comments:
      - sqlview>> SELECT * FROM statements WHERE object IS NOT NULL
      
  node to value statement:
    abstract: true
    is_a: statements
    description: >-
      A statement where value is non-null and object is not populated
    slot_usage:
      value:
        required: true
    comments:
      - sqlview>> SELECT * FROM statements WHERE value IS NOT NULL
      
      
  rdf type statement:
    is_a: node to node statement
    description: >-
      A statement that indicates the asserted type of the subject entity
    comments:
      - sqlview>> SELECT * FROM statements WHERE predicate='rdf:type'
    slot_usage:
      object:
        description: >-
          The entity type
        range: class node
  rdfs subclass of statement:
    is_a: node to node statement
    comments:
      - sqlview>> SELECT * FROM statements WHERE predicate='rdfs:subClassOf'
    slot_usage:
      subject:
        description: >-
          The subclass element of the triple
        range: class node
      object:
        description: >-
          The superclass element of the triple
        range: class node
  rdfs label statement:
    is_a: node to value statement
    comments:
      - sqlview>> SELECT * FROM statements WHERE predicate='rdfs:label'
      
  # -- nodes --
  node:
    slots:
      - id
    comments:
      - sqlview>> SELECT distinct(subject) AS id FROM statements UNION SELECT distinct(object) AS id FROM statements WHERE datatype IS NOT NULL
  blank node:
    is_a: node
    comments:
      - sqlview>> SELECT * FROM node WHERE id LIKE '_:%'
  iri node:
    is_a: node
    comments:
      - sqlview>> SELECT * FROM node WHERE id NOT LIKE '_:%'
  class node:
    is_a: node
    mixins:
      - class trait
    class_uri: owl:Class
  named individual node:
    is_a: node
    class_uri: owl:NamedIndividual

  rdf level summary statistic:
    abstract: true
    attributes:
      element:
        range: node
      number_of_usages:
        range: integer
    mixins:
      - is report

  count of predicates:
    is_a: rdf level summary statistic
    comments:
      - sqlview>> SELECT predicate AS element, count(*) AS number_of_usages FROM statements GROUP BY predicate ORDER BY number_of_usages DESC
  count of instantiated classes:
    is_a: rdf level summary statistic
    comments:
      - sqlview>> SELECT object AS element, count(*) AS number_of_usages FROM rdf_type_statement GROUP BY element ORDER BY number_of_usages DESC

  # -- mixins --
  node trait:
    abstract: true
    mixin: true
  class trait:
    mixin: true
    is_a: node trait
  property trait:
    mixin: true
    is_a: node trait
  individual trait:
    mixin: true
    is_a: node trait

  is report:
    mixin: true
    abstract: true

slots:
  id:
    identifier: true
    range: node id type
  subject:
    range: node
  predicate:
  object:
    description: >-
      Note the range of this slot is always a node. If the triple represents a literal, instead value will be populated
    range: node
  stanza:
    range: node
  datatype:
  value:
    description: >-
      Note the range of this slot is always a string. Only used the triple represents a literal assertion
    range: literal as string type
  language:
    range: string
    todos:
      - use an enum
  prefix:
    range: ncname
  base:
    range: uri
  description:
    slot_uri: dcterms:description

types:
  node id type:
    typeof: uriorcurie
  literal as string type:
    typeof: string
    
